OPTION(ZENO_RPC_CLIENT "Link client wrapper with zeno." ON)

IF (ZENO_RPC_CLIENT)
    FIND_PACKAGE(Threads)

    FILE(GLOB_RECURSE SOURCE_FILES src/*.cpp)
    FILE(GLOB_RECURSE TEST_SOURCE_FILES test/*.cpp)

    TARGET_INCLUDE_DIRECTORIES(zeno PUBLIC include)
    TARGET_SOURCES(zeno PRIVATE ${SOURCE_FILES})
    TARGET_LINK_LIBRARIES(zeno PRIVATE RPCProto)

    ADD_EXECUTABLE(RPCTest ${TEST_SOURCE_FILES} ${SOURCE_FILES})
    TARGET_LINK_LIBRARIES(RPCTest PUBLIC RPCProto)
ELSE()
    MESSAGE("[RPC] Client disabled.")
ENDIF()
